<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <body>
        <button id="registerResponder" style="margin-top:5px;">Register as offer responder</button>
        <a id="downloadFile" style="display: none; margin-top:10px;" download>Download uploaded file</a>
    </body>
    <script src="adapter.js"></script>
    <script src="signaling/Answerer.js" type="module"></script>
    <script type="module">
        import {registerAsAnswerer, onFileReceived} from "./signaling/Answerer.js";

        document.getElementById('registerResponder').onclick = registerAsAnswerer;
        onFileReceived((file, metadata) => {
            const downloadButton = document.getElementById('downloadFile');
            downloadButton.href = URL.createObjectURL(file);
            downloadButton.style.display = 'block';
            !!metadata && (downloadButton.download = metadata.name);
        });
    </script>
</html>
